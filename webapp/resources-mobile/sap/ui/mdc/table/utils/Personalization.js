/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/mdc/enums/ProcessingStrategy","sap/ui/core/library"],(e,t)=>{"use strict";const n={};n.isUserPersonalizationActive=function(e){return e._bUserPersonalizationActive===true};n.detectUserPersonalizationCompletion=function(e,t){if(!t.isOpen()){return}e._bUserPersonalizationActive=true;t.attachEventOnce("afterClose",()=>{e.getEngine().waitForChanges(e).then(()=>{delete e._bUserPersonalizationActive})})};n.openSettingsDialog=function(e){r(e,e.getActiveP13nModes(),{reset:()=>{e.getEngine().reset(e)}})};n.openFilterDialog=function(e,t){r(e,"Filter",{close:t})};async function r(e,t,n={}){await e.finalizePropertyHelper();if(e.getInbuiltFilter()){e.getInbuiltFilter().setVisibleFields(null)}const r=e.getEngine();const o=await r.show(e,t,{reset:n.reset,close:()=>{n.close?.();r.waitForChanges(e).then(()=>{delete e._bUserPersonalizationActive})}});if(o){e._bUserPersonalizationActive=true}}n.createSortChange=function(e,n){e.getEngine().createChanges({control:e,key:"Sort",state:[{name:n.property,descending:n.sortOrder===t.SortOrder.Descending,sorted:n.sortOrder!==t.SortOrder.None}],applyAbsolute:true})};n.createGroupChange=function(e,t){const n=(e.getCurrentState().groupLevels||[]).some(e=>e.name==t.property);e.getEngine().createChanges({control:e,key:"Group",state:[{grouped:!n,name:t.property}],applyAbsolute:e._isOfType("ResponsiveTable")})};n.createClearFiltersChange=function(t){t.getEngine().createChanges({control:t,key:"Filter",state:[],applyAbsolute:e.FullReplace})};n.createAggregateChange=function(e,t){const n=t.property in(e.getCurrentState().aggregations||{});e.getEngine().createChanges({control:e,key:"Aggregate",state:[{name:t.property,aggregated:!n}],applyAbsolute:false})};n.createColumnWidthChange=function(e,t){e.getEngine().createChanges({control:e,key:"ColumnWidth",state:[{name:t.column.getPropertyKey(),width:t.width}],applyAbsolute:false})};n.createColumnReorderChange=function(e,t){const n=e.indexOfColumn(t.column);if(n===t.index){return}e.getEngine().createChanges({control:e,key:"Column",state:[{name:t.column.getPropertyKey(),position:t.index}]})};return n});
//# sourceMappingURL=Personalization.js.map