/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/model/ChangeReason","sap/ui/model/json/JSONPropertyBinding","sap/base/util/merge","sap/base/util/deepEqual","sap/ui/core/date/UI5Date","sap/ui/mdc/enums/OperatorName","sap/ui/mdc/enums/ConditionValidated","sap/ui/mdc/condition/FilterOperatorUtil"],(t,e,a,i,s,o,n,r)=>{"use strict";const l=t=>t.operator===r.getEQOperator([t.operator])?.name&&t.validated===n.Validated;const u=t=>t.map(t=>({...t,values:l(t)?[t.values[0]]:t.values}));const h=(t,e)=>Array.isArray(t)&&Array.isArray(e)&&t?.length&&e?.length&&i(u(e),u(t));const p=e.extend("sap.ui.mdc.condition.ConditionModelPropertyBinding",{constructor:function(t,a,i,s){e.apply(this,arguments);this.oValue=c.call(this,this._getValue())}});p.prototype.getValue=function(){return c.call(this,this.oValue)};p.prototype.setValue=function(e){if(this.bSuspended){return}const a=this.oValue;if(!i(a,e)){if(this.oModel.setProperty(this.sPath,e,this.oContext,true)){this.oValue=c.call(this,e);this.getDataState().setValue(this.oValue);this.oModel.firePropertyChange({reason:t.Binding,path:this._sOriginapPath,context:this.oContext,value:e,_descriptionOnly:h(e,a)})}}};p.prototype.checkUpdate=function(e){if(this.bSuspended&&!e){return}const a=this._getValue();if(!i(a,this.oValue)||e){this.oValue=c.call(this,a);this.getDataState().setValue(this.oValue);this.checkDataState();this._fireChange({reason:t.Change})}};function c(t){let e;if(!t){e=t}else if(Array.isArray(t)){e=a([],t)}else if(t instanceof Date){e=s.getInstance(t)}else if(typeof t==="object"){e=a({},t)}else{e=t}return e}return p});
//# sourceMappingURL=ConditionModelPropertyBinding.js.map