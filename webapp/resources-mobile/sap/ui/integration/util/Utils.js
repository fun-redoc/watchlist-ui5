/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/getCompatibilityVersion","sap/ui/core/Locale","sap/base/strings/formatMessage","sap/base/util/isPlainObject","sap/base/Log","sap/ui/core/date/UI5Date","sap/base/i18n/Localization","sap/base/util/deepClone"],function(e,t,n,a,r,i,s,o){"use strict";var u={};u.languageMapping={"da-DK":"da","hi-IN":"hi","hu-HU":"hu","id-ID":"id","ms-MY":"ms","nl-NL":"nl","pl-PL":"pl","ro-RO":"ro","th-TH":"th"};u.getLocalizationLanguage=function(){var e=s.getLanguage().replaceAll("_","-");return u.languageMapping[e]||e};u.mapLanguagesInManifestChanges=function(e){if(typeof e==="object"){e.forEach(function(e){if(e.texts){for(var[t,n]of Object.entries(u.languageMapping)){if(e.texts[t]){var a=o(e.texts[t],500);delete e.texts[t];a=Object.assign(a,e.texts[n]);e.texts[n]=a}}}})}};u._language=u.getLocalizationLanguage();u.refreshLocalizationLanguage=function(){u._language=u.getLocalizationLanguage()};s.attachChange(u.refreshLocalizationLanguage);u.isJson=function(e){if(typeof e!=="string"){return false}try{JSON.parse(e);return true}catch(e){return false}};u.processFormatArguments=function(e,n){var r=a(e)?e:{},i=typeof e==="string"?new t(e):n&&new t(n);return{formatOptions:r,locale:i}};u.parseJsonDateTime=function(e){var t=1,n=2,a=3;var s=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,o;if(typeof e==="string"){o=s.exec(e)}if(o){var u=i.getInstance(parseInt(o[t]));if(o[n]){var f=parseInt(o[a]);if(o[n]==="-"){f=-f}var l=u.getUTCMinutes();u.setUTCMinutes(l-f)}if(isNaN(u.valueOf())){r.error("Invalid JSON Date format - "+e)}else{e=u}}return e};u.DEFAULT_PROMISE_TIMEOUT=5e3;u.timeoutPromise=function(e,t){var n;if(t===undefined){t=u.DEFAULT_PROMISE_TIMEOUT}n=new Promise(function(e,n){setTimeout(function(){n("The promise was not resolved after "+t+" ms so it timed out.")},t)});return Promise.race([e,n])};u.hasFalsyValueAsString=function(e){return typeof e=="string"&&["null","false","undefined",""].indexOf(e.trim())>-1};u.setNestedPropertyValue=function(e,t,n){var a=t.substring(1).split("/"),r;for(var i=0;i<a.length-1;i++){r=a[i];e=e.hasOwnProperty(r)?e[r]:undefined;if(e===null||typeof e!=="object"){break}}e[a[a.length-1]]=n};u.getNestedPropertyValue=function(e,t){var n=t.substring(1).split("/"),a;for(var r=0;r<n.length;r++){a=n[r];e=e.hasOwnProperty(a)?e[a]:undefined;if(e===null||typeof e!=="object"){break}}return e};u.makeUndefinedValuesNull=function(e){if(Array.isArray(e)){return e.map(function(e){if(e===undefined){return null}if(typeof e==="object"){return u.makeUndefinedValuesNull(e)}return e})}for(var t in e){if(e.hasOwnProperty(t)){if(e[t]===undefined){e[t]=null}else if(typeof e[t]==="object"){e[t]=u.makeUndefinedValuesNull(e[t])}}}return e};u.isBindingSyntaxComplex=function(){if(u._isBindingSyntaxComplex===undefined){u._isBindingSyntaxComplex=e("sapCoreBindingSyntax").compareTo("1.26")>=0}return u._isBindingSyntaxComplex};u.generateUuidV4=function(){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0;if(e==="y"){t=t&3|8}return t.toString(16)});return e};u.getStatusTextBindingInfo=function(e){var t;if(e.parts&&e.translationKey&&e.parts.length===2){t={parts:[e.translationKey,e.parts[0].toString(),e.parts[1].toString()],formatter:function(t,a,r){var i=a||e.parts[0];var s=r||e.parts[1];if(Array.isArray(a)){i=a.length}if(Array.isArray(r)){s=r.length}var o=parseFloat(i)||0;var u=parseFloat(s)||0;return n(t,[o,u])}}}return t};u.polling=function(e,t=3e3,n=6e5){let a=0;let r;let i=false;const s=async()=>{if(n&&a>=n){return}const o=await e();if(o||i){return}a+=t;r=setTimeout(s,t)};s();return{stop:()=>{clearTimeout(r);i=true}}};return u});
//# sourceMappingURL=Utils.js.map