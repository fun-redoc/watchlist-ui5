/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/m/Dialog","sap/ui/Device","sap/ui/core/Element","sap/ui/integration/library","sap/ui/dom/jquery/Focusable"],(e,t,n,a)=>{"use strict";const i=a.CardDataMode;function s(e,t,n){const a=e.getContent()[0];let i=true;a.addEventDelegate({onAfterRendering:()=>{const s=a.getDomRef();if(n){s.style.minHeight=t.getDomRef().offsetHeight+"px";s.style.minWidth=t.getDomRef().offsetWidth+"px"}if(i){s.style.maxHeight=e._getAreaDimensions().height*70/100+"px";s.style.maxWidth=e._getAreaDimensions().width*70/100+"px"}else{s.style.maxHeight="";s.style.maxWidth=""}}});e.addEventDelegate({onmousedown:e=>{if(e.target.closest(".sapMDialogResizeHandle")){i=false}},onAfterRendering:()=>{e.getDomRef().style.minHeight="8.25rem"}})}function o(e,t){const n=t.getDomRef().getBoundingClientRect();const a={top:Math.round(n.top)+window.scrollX,left:Math.round(n.left)+window.scrollX,width:Math.round(n.width),height:Math.round(n.height)};e.attachBeforeClose(()=>{const t=e.getDomRef();t.classList.add("sapUiIntCardDialogAnimate");t.style.top=a.top+"px";t.style.left=a.left+"px"});e.addEventDelegate({onAfterRendering:()=>{const t=e.getDomRef();if(!e.isOpen()){t.classList.add("sapUiIntCardDialogAnimate");t.style.top=a.top+"px";t.style.left=a.left+"px"}const n=e=>{if(["left","right"].includes(e.propertyName)){t.classList.remove("sapUiIntCardDialogAnimate");t.removeEventListener("transitionend",n)}};t.addEventListener("transitionend",n)}})}function l(e,t){const n={onmousedown:a=>{if(a.target.closest(".sapMDialogResizeHandle")){t.setHeight("100%");e.setContentHeight(e.getDomRef("cont").offsetHeight+"px");e.setVerticalScrolling(false);e.removeEventDelegate(n)}}};e.addEventDelegate(n)}function r(n,a,i,r){n.setDisplayVariant("Large");a.setBusy(true).setBusyIndicatorDelay(750);const g=new e({content:[n],contentWidth:i.width,verticalScrolling:false,horizontalScrolling:false,draggable:true,showHeader:false,ariaLabelledBy:n.getId(),escapeHandler:function(e){n.hide();e.resolve()},resizable:i.resizable,afterOpen:()=>{a.setBusy(false)},afterClose:()=>{g.destroy()}});g.addStyleClass("sapUiIntCardDialog");a.addDependent(g);n.attachEventOnce("_ready",()=>{g.open();d(n,g)});if(!t.system.phone){s(g,a,r);o(g,a);l(g,n)}n.startManifestProcessing();return g}function d(e,t){var n=e.getAggregation("_filter"),a=e.getAggregation("_content"),i=e.getAggregation("_footer"),s;s=n&&n.$().firstFocusableDomRef()||a&&a.$().firstFocusableDomRef()||i&&i.$().firstFocusableDomRef();if(s){t.setInitialFocus(s.id);s.focus()}}function g(e,t,a=false){let s;if(t._cardId){s=n.getElementById(t._cardId)}else{s=e._createChildCard({dataMode:i.Active,...t})}return r(s,e,t,a)}return g});
//# sourceMappingURL=openCardDialog.js.map