/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Control","sap/base/util/merge","sap/ui/core/Element","sap/ui/core/Lib","sap/ui/integration/controls/ActionsStrip","sap/ui/integration/util/BindingHelper","sap/m/library","sap/m/Button"],function(t,e,i,n,o,r,s,a){"use strict";const g=s.ButtonType;var p=t.extend("sap.ui.integration.cards.Footer",{metadata:{properties:{configuration:{type:"object"},showCloseButton:{type:"boolean"}},aggregations:{actionsStrip:{type:"sap.ui.integration.controls.ActionsStrip",multiple:false},_showMore:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_closeButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"}},associations:{card:{type:"sap.ui.integration.widgets.Card",multiple:false}}},renderer:{apiVersion:2,render:function(t,e){t.openStart("div",e).class("sapFCardFooter");if(e.getCardInstance().isLoading()&&e._hasBinding()){t.class("sapFCardFooterLoading")}t.openEnd();const i=e.getActionsStrip();if(i){t.renderControl(i)}const n=e.getAggregation("_showMore");if(n){t.renderControl(n)}const o=e.getAggregation("_closeButton");if(o){t.renderControl(o)}t.close("div")}}});p.create=function({card:t,configuration:e,paginator:i,showCloseButton:n}){const s=new p({configuration:r.createBindingInfos(e,t.getBindingNamespaces()),card:t,showCloseButton:n,actionsStrip:o.create(e.actionsStrip,t,true),visible:e.visible});s.setPaginator(i);return s};p.prototype.onBeforeRendering=function(){if(this._oPaginator&&!this._oPaginator.getActive()){this._createShowMore()}else{this.destroyAggregation("_showMore")}if(this.getShowCloseButton()){this._createCloseButton()}else{this.destroyAggregation("_closeButton")}};p.prototype.onDataChanged=function(){if(this.getActionsStrip()){this.getActionsStrip().onDataChanged()}};p.prototype._hasBinding=function(){var t=r.createBindingInfos(this.getConfiguration(),this.getCardInstance().getBindingNamespaces());return(t.actionsStrip||[]).some(function(t){for(var e in t){if(r.isBindingInfo(t[e])){return true}}return false})};p.prototype.getCardInstance=function(){return i.getElementById(this.getCard())};p.prototype.setEnabled=function(t){var e=this.getActionsStrip();if(!e){return}if(t){e.enableItems()}else{e.disableItems()}};p.prototype.getStaticConfiguration=function(){var t=e({},this.getConfiguration());if(this._oPaginator){t.paginator=this._oPaginator.getStaticConfiguration()}return t};p.prototype.setPaginator=function(t){this._oPaginator=t};p.prototype._createShowMore=function(){let t=this.getAggregation("_showMore");if(!t){const e=this._oPaginator;t=new a({text:n.getResourceBundleFor("sap.ui.integration").getText("CARD_FOOTER_SHOW_MORE"),type:g.Transparent,press:()=>{e.openDialog()},visible:e.getPageCount()>1});e.attachEvent("_ready",()=>{t.setVisible(e.getPageCount()>1)});this.setAggregation("_showMore",t)}return t};p.prototype._createCloseButton=function(){let t=this.getAggregation("_closeButton");if(!t){t=new a({text:n.getResourceBundleFor("sap.ui.integration").getText("CARD_DIALOG_CLOSE_BUTTON"),type:g.Emphasized,press:this.getCardInstance().hide.bind(this.getCardInstance())});this.setAggregation("_closeButton",t)}return t};return p});
//# sourceMappingURL=Footer.js.map